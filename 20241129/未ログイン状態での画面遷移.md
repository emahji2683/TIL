# 概要
- 画面遷移図の確認により、遷移先のページ一覧把握する
- deviseの設定等により未ログイン状態での画面遷移先を制限する。

# 実装方法

以下の内容をapplication_controllerに追加することにより、未ログインの場合、ログイン画面に強制的に遷移するように設定した。

以下の``簡単ログイン..``の記事を使用して、ゲストユーザーログイン機能・削除防止機能を実装した。

```
class ApplicationController < ActionController::Base
  before_action :authenticate_user!
end

```

#### [deviseでログインしていない場合はログイン画面に遷移するメモ](https://qiita.com/nk824/items/d28022b0e51089921969)

# 処理の流れ
## ログイン
- モデルのクラスメソッドにおいて、ゲストユーザーインスタンスを生成。
- session_controller.rbにおいて、ゲストユーザーでログイン。
- rootディレクトリに移動して、ログインメッセージを表示。

## ユーザー削除の防止
- ポートフォリオにおいて、ユーザー2名によるログインは想定していないため使用しない。

#### [簡単ログイン・ゲストログイン機能の実装方法（ポートフォリオ用](https://qiita.com/take18k_tech/items/35f9b5883f5be4c6e104)


## モデルクラスメソッド
### find_or_created_byとは
検索・作成したインスタンスに対して、ブロック内でインスタンス変数に対して、値を代入する。

### SecureRandomとは
（ざっくりと）推測されにくいランダムな数値や文字列を生成するためのツールのこと。

#### [【Ruby】SecureRandomを使ってユーザー認証を強化する方法](https://zenn.dev/take_tech/articles/9d258b4cafab18)

# 実装方法
ビューの追加
ゲストサインインのルーティング追加
コントローラーの追加

# 使用しなかった参考資料
- [ゲストログイン機能の作成](https://zenn.dev/cyaroya/articles/ebf3b59cc22381)


