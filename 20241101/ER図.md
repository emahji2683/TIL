# ER図

# ER図とは

ER図（**E**ntity **R**elationship Diagram）とは、データベース設計における代表的な設計図のことです。E（エンティティ＝モノ）と、R（リレーション＝関係）の組み合わせでシステムのデータやデータ間の処理構造を設計します。

# エンティティ

システムに登場する「モノ」を洗い出し、エンティティとして定義します。エンティティは以下の3種類に分離されます。また、独立エンティティ（他のテーブルのデータに依存することなくデータを保持できるエンティティ）を角の尖った四角で示し、従属エンティティ（他のテーブルが存在しないとデータを保持することができないエンティティ）を角の丸い四角で示します。

# リレーション

エンティティ同士の関係を表現する線のことです。リレーションシップには向きがあり、関連の「主語」から「目的語」に向かって線を引きます。主語となるエンティティを「親エンティティ」、目的語となるエンティティを「子エンティティ」と呼びます。また、リレーションシップには以下の種類があります。

## アトリビュート

エンティティの中の属性情報のことです。アトリビュートの中で「主キー」や「外部キー」も表現します。主キーとなる項目は、エンティティ上部で四角に囲い明示します。外部キーとなる項目は、項目名の後ろに「（FK）」と書いて明示します。その他の項目は、項目名のみ記述します。

### 主キー（PK）とは

主キー(**P**rimary **K**ey)はエンティティのレコードを検索するときに使用するカラムです。カラムの値は必ず一意（ユニーク）になります。

### 外部キー（FK）とは

外部キー(**F**oreign **K**ey)は関連するエンティティの整合性を保つために設定します。たとえば予約情報テーブルの「ユーザID」の値は必ずログインマスタに存在する、などです。

https://envader.plus/article/48
